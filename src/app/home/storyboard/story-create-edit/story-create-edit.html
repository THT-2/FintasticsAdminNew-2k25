<section class="add-card">
  <app-card
    [cardTitle]="StoryBoardFormControl['_id'].value ? GlobalConstant['EDIT'] + ' Subscription' : GlobalConstant['ADD'] + ' Subscription'"
    blockClass="pc-component"
    route_button=""
  >
    <div class="add-body">
      <div class="add-inner">
        <form [formGroup]="StoryBoardForm" (ngSubmit)="submit()">
          <div class="row g-3">

            <!-- Title -->
            <div class="col-md-6">
              <label class="form-label">Title <span class="req">*</span></label>
              <div class="input-group">
                <span class="input-group-text"><i class="bi bi-card-text"></i></span>
                <input type="text" class="form-control" placeholder="Title" formControlName="title" />
              </div>
              <div *ngIf="StoryBoardForm.get('title')?.touched && StoryBoardForm.get('title')?.invalid" class="text-danger">
                Title is required.
              </div>
            </div>

            <!-- Media Type -->
            <div class="col-md-6">
              <label class="form-label">Media Type <span class="req">*</span></label>
              <div class="input-group">
                <span class="input-group-text"><i class="bi bi-file-earmark"></i></span>
                <input type="text" class="form-control" placeholder="Media Type" formControlName="mediaType" />
              </div>
              <div *ngIf="StoryBoardForm.get('mediaType')?.touched && StoryBoardForm.get('mediaType')?.invalid" class="text-danger">
                Media Type is required.
              </div>
            </div>

            <!-- Upload Media File -->
            <div class="col-md-6">
              <label class="form-label">Upload Media File <span class="req">*</span></label>
              <app-file-upload (getFilePath)="onFilePathReceived($event)"></app-file-upload>
              <div *ngIf="StoryBoardFormControl['mediaUrl']?.value" class="mt-2">
                <app-file-preview [filePath]="StoryBoardFormControl['mediaUrl'].value"></app-file-preview>
              </div>
              <div *ngIf="StoryBoardForm.get('mediaUrl')?.touched && StoryBoardForm.get('mediaUrl')?.invalid" class="text-danger">
                Upload media file is required.
              </div>
            </div>

            <!-- Notification Title -->
            <div class="col-md-6">
              <label class="form-label">Notification Title <span class="req">*</span></label>
              <div class="input-group">
                <span class="input-group-text"><i class="bi bi-bell"></i></span>
                <input type="text" class="form-control" placeholder="Notification Title" formControlName="notifi_title" />
              </div>
            </div>

            <!-- Notification Description -->
            <div class="col-md-6">
              <label class="form-label">Notification Description <span class="req">*</span></label>
              <textarea class="form-control" placeholder="Notification Description" formControlName="notifi_body"></textarea>
            </div>

            <!-- Submit Button -->
            <div class="col-12 d-flex justify-content-end pt-2">
              <button type="submit" [disabled]="btnLoader" class="btn btn-cta btn-cta-wide">
                <ng-container *ngIf="btnLoader; else btnText">
                  <div class="spinner-border text-white" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                </ng-container>
                <ng-template #btnText>
                  {{ StoryBoardFormControl['_id'].value ? 'Update' : 'Submit' }}
                </ng-template>
              </button>
            </div>

          </div>
        </form>
      </div>
    </div>
  </app-card>
</section>
