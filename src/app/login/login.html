<div id="tsparticles"></div>
<main class="main-content">
  <div class="wrap">
    <!-- Left column -->
    <div class="left">
      <div class="brand-panel">
        <div class="brow">
          <div class="logo" aria-hidden="true">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <path d="M4 7.5c0-1.657 1.343-3 3-3h7.5a1.5 1.5 0 1 1 0 3H7a1.5 1.5 0 0 0-1.5 1.5V9"
                    stroke="white" stroke-width="1.8" stroke-linecap="round" />
              <rect x="3" y="8" width="18" height="12.5" rx="3.2"
                    stroke="white" stroke-width="1.8" />
              <circle cx="16.75" cy="14.25" r="1.3" fill="white" />
            </svg>
          </div>
          <div class="brand-name">Fintastics</div>
          <span class="badge">Expense Tracker</span>
        </div>
        <div class="welcome">
          <h3>
            Welcome to
            <span style="background:linear-gradient(90deg,#93c5fd,#6366f1);
                         -webkit-background-clip:text;
                         background-clip:text;
                         color:transparent">
              Fintastics
            </span>
          </h3>
          <div class="muted">
            Cloud-based expense tracking with a friendly, centralized dashboard.
          </div>
        </div>
      </div>
      <div class="hero" aria-hidden="true">
        <img src="../../assets/log.jpg" alt="Workspace with finance dashboards" />
      </div>
    </div>

    <!-- Right column -->
    <section class="right">
      <div class="top">
        <div class="logo" aria-hidden="true" style="width:36px;height:36px">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M4 7.5c0-1.657 1.343-3 3-3h7.5a1.5 1.5 0 1 1 0 3H7a1.5 1.5 0 0 0-1.5 1.5V9"
                  stroke="white" stroke-width="1.8" stroke-linecap="round" />
            <rect x="3" y="8" width="18" height="12.5" rx="3.2"
                  stroke="white" stroke-width="1.8" />
            <circle cx="16.75" cy="14.25" r="1.3" fill="white" />
          </svg>
        </div>
        <strong>Fintastics</strong>
      </div>
      <h2>Login</h2>
      <p>Enter your credentials to access your account</p>

      <form id="loginForm" autocomplete="on" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <!-- Email / UserID field -->
        <div class="field">
          <label for="identifier">Email or User ID</label>

          <div class="input-wrapper">
            <span class="icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M3.6 6.6A2.6 2.6 0 0 1 6.2 4h11.6A2.6 2.6 0 0 1 20.4 6.6v10.8a2.6 2.6 0 0 1-2.6 2.6H6.2a2.6 2.6 0 0 1-2.6-2.6V6.6Z"
                      stroke="currentColor" stroke-width="1.6" />
                <path d="M4.5 7 12 12.2 19.5 7"
                      stroke="currentColor" stroke-width="1.6" />
              </svg>
            </span>
            <input id="identifier" name="identifier" type="text"
                   formControlName="identifier"
                   placeholder="example@fintastics.app / ID001"
                   required />
          </div>

          @if (loginForm.get('identifier')?.touched && loginForm.get('identifier')?.invalid) {
            <div class="text-danger">
              @if (loginForm.get('identifier')?.hasError('required')) {
                Email or User ID is required
              } @else {
                Please enter a valid email or user ID
              }
            </div>
          }
        </div>

        <!-- Password field -->
        <div class="field">
          <label for="password">Password</label>

          <div class="password-wrapper">
            <span class="icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <rect x="4" y="8" width="16" height="12" rx="2.5"
                      stroke="currentColor" stroke-width="1.6" />
                <path d="M8 8V6a4 4 0 0 1 8 0v2"
                      stroke="currentColor" stroke-width="1.6" />
              </svg>
            </span>

            <input id="password"
                   name="password"
                   [type]="showPassword ? 'text' : 'password'"
                   formControlName="password"
                   placeholder="••••••••"
                   minlength="6"
                   required />

            <span class="toggle-password" (click)="togglePassword()">
              <i [ngClass]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
            </span>
          </div>

          @if (loginForm.get('password')?.touched && loginForm.get('password')?.invalid) {
            <div class="text-danger">
              Password is required
            </div>
          }
        </div>

        <button class="btn" type="submit">Login</button>
      </form>
    </section>

    <div class="auth-footer row">
      <div class="col my-1"></div>
      <div class="col-auto my-1">
        <p class="m-0">
          Copyright ©
          <a href="https://fintastics.in/" target="_blank">Fintastics</a>
        </p>
      </div>
    </div>
  </div>
</main>
